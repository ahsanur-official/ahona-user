    <script>
      // Prevent light flash on reload if dark mode is set
      (function() {
        try {
          var settings = JSON.parse(localStorage.getItem('ahona_settings') || '{}');
          if (settings.theme === 'dark') {
            document.documentElement.classList.add('dark');
            // body may not exist yet, so use a MutationObserver
            var observer = new MutationObserver(function() {
              if (document.body) {
                document.body.classList.add('dark');
                observer.disconnect();
              }
            });
            observer.observe(document.documentElement, {childList:true, subtree:true});
          }
        } catch(e) {}
      })();
    </script>
  <!-- Auth Loading Spinner -->
  <div id="authLoadingSpinner" style="position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:9999;background:rgba(30,34,40,0.65);transition:opacity 0.3s;">
      <style>
        body:not(.dark) #authLoadingSpinner {
          background: rgba(255,255,255,0.75) !important;
        }
        body.dark #authLoadingSpinner {
          background: rgba(30,34,40,0.85) !important;
        }
      </style>
    <div style="display:flex;flex-direction:column;align-items:center;gap:18px;">
      <div class="lds-dual-ring"></div>
      <span style="color:var(--accent-tertiary);font-size:18px;font-weight:600;">Loading...</span>
    </div>
  </div>
  <style>
    .lds-dual-ring {
      display: inline-block;
      width: 64px;
      height: 64px;
    }
    .lds-dual-ring:after {
      content: " ";
      display: block;
      width: 46px;
      height: 46px;
      margin: 1px;
      border-radius: 50%;
      border: 6px solid var(--accent-tertiary);
      border-color: var(--accent-tertiary) transparent var(--accent-primary) transparent;
      animation: lds-dual-ring 1.2s linear infinite;
    }
    @keyframes lds-dual-ring {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ahona Islam's Stories World..</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topBar">
    <div class="brand">Ahona Islam</div>
    <div class="controls">
        <button id="langToggleBtn" style="margin-left:8px;padding:7px 16px;border-radius:8px;background:linear-gradient(90deg,#457b9d,#e63946);color:#fff;font-weight:600;border:none;cursor:pointer;">à¦¬à¦¾à¦‚à¦²à¦¾</button>
      <button id="toggleTheme" aria-label="Toggle dark mode">â˜€ï¸</button>
      <button id="notifBtn" aria-label="Notifications" class="notifBtn">ğŸ””<span id="notifBadge" class="notifBadge hidden">0</span></button>
      <div class="userArea" id="userArea">
        <button id="loginBtn">Log in</button>
        <button id="registerBtn">Register</button>
        <button id="userIconBtn" class="hidden" aria-label="User profile">ğŸ‘¤</button>
        <div id="userMenu" class="userMenu hidden" aria-hidden="true">
          <div id="currentUserName"></div>
          <div class="userMenuSection">
            <button id="profileBtn">ğŸ‘¤ Profile</button>
          </div>
          <div class="userMenuSection">
            <button id="likesBtn">â¤ï¸ My Likes</button>
          </div>
          <div class="userMenuSection">
            <button id="settingsBtn">âš™ï¸ Settings</button>
          </div>
          <div class="userMenuSection">
            <button id="logoutBtn">ğŸšª Log out</button>
          </div>
        </div>
        <div id="notifPanel" class="userMenu hidden" aria-hidden="true">
          <div style="padding:12px 16px;font-weight:700;border-bottom:1px solid var(--border);background:linear-gradient(135deg, rgba(230, 57, 70, 0.05), rgba(69, 123, 157, 0.02));color:var(--accent-primary)">ğŸ”” Notifications</div>
          <div id="notifList" style="max-height:320px;overflow-y:auto;padding:8px;min-width:280px"></div>
          <div style="padding:12px;border-top:1px solid var(--border);text-align:center;background:linear-gradient(135deg, rgba(230, 57, 70, 0.02), transparent)"><button id="clearNotifs" class="btn btn-ghost">Clear All</button></div>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="heroSection">
    <div class="heroContent">
      <div class="heroIcon">ğŸ“š</div>
      <h1 class="heroTitle">
        <span
          class="typewriterTarget"
          aria-live="polite"
          data-animation="once"
          data-phrases="ğŸ’–Welcome to the Ahona Islam's Stories World..ğŸ’–"
        >ğŸ’–Welcome to the Ahona Islam's Stories World..ğŸ’–</span>
      </h1>
      <p class="heroSubtitle">
        <span
          class="typewriterTarget"
          aria-live="polite"
          data-animation="fade"
          data-phrases="Discover beautiful novels, poems, short stories | Join our community of readers | Keep updated with the latest releases | Explore more every day | Keep your favorite stories handy | Share your thoughts and reviews | Connect with fellow readers | Dive into a world of imagination | Find your next favorite read | Stories that touch your heart | Inspiration at your fingertips | Endless adventures await | Where stories come alive | Your gateway to literary wonders | Unlock the magic of storytelling | A haven for book lovers | Fuel your passion for reading | keep supporting Ahona Islam!"
        >Discover beautiful novels, poems, and short stories crafted with passion</span>
      </p>
    </div>
  </section>

  <main class="container">
    <!-- Search & Filter Section -->
    <section class="filterSection">
      <div class="searchBar">
        <span class="searchIcon">ğŸ”</span>
        <input type="text" id="searchInput" placeholder="Search stories, poems, or novels..." />
      </div>
      <div class="categoryFilters">
        <button class="filterBtn active" data-category="all">All Stories</button>
        <button class="filterBtn" data-category="Novel">ğŸ“– Novels</button>
        <button class="filterBtn" data-category="Poem">âœï¸ Poems</button>
        <button class="filterBtn" data-category="Short Story">ğŸ“ Short Stories</button>
      </div>
    </section>

    <!-- All Posts -->
    <section id="posts" class="posts"></section>

    <!-- Auth modals -->
    <div id="authModalOverlay" class="modal hidden">
      <div class="modalContent authModalContent">
        <div class="authModalBg"></div>
        <div class="authModalInner">
          <!-- Login Form -->
          <form id="loginForm" class="authForm hidden">
            <div class="authHeader">
              <h2>ğŸ‘‹ Welcome Back</h2>
              <p class="authSubtitle">Continue reading amazing stories</p>
              <button type="button" class="closeBtn" id="cancelLogin">âœ•</button>
            </div>

            <div class="formGroup">
              <label for="loginEmail">ğŸ“§ Email</label>
              <input id="loginEmail" name="email" type="email" placeholder="you.email@example.com" required />
            </div>
            
            <div class="formGroup">
              <label for="loginPassword">ğŸ” Password</label>
              <input id="loginPassword" name="password" type="password" placeholder="Enter your password" required />
            </div>

            <button type="submit" class="authSubmitBtn">Sign In âœ¨</button>

            <div class="authDivider">
              <span>or</span>
            </div>

            <p class="authToggle">
              Don't have an account?
              <button type="button" class="authToggleBtn" onclick="switchToRegister()">Create one</button>
            </p>
          </form>

          <!-- Register Form -->
          <form id="registerForm" class="authForm hidden">
            <div class="authHeader">
              <h2>ğŸ‰ Join Our Community</h2>
              <p class="authSubtitle">Read amazing stories, like and comment</p>
              <button type="button" class="closeBtn" id="cancelRegister">âœ•</button>
            </div>

            <div class="formGroup">
              <label for="registerName">ğŸ‘¤ Full Name</label>
              <input id="registerName" name="fullName" type="text" placeholder="Your full name" required />
            </div>

            <div class="formGroup">
              <label for="registerUsername">ğŸ’¬ Username</label>
              <input id="registerUsername" name="username" type="text" placeholder="Choose a unique username" required />
            </div>
            
            <div class="formGroup">
              <label for="registerEmail">ğŸ“§ Email</label>
              <input id="registerEmail" name="email" type="email" placeholder="your.email@example.com" required />
            </div>

            <div class="formGroup">
              <label for="registerAddress">ğŸ“ Address</label>
              <input id="registerAddress" name="address" type="text" placeholder="City, Country" required />
            </div>
            
            <div class="formGroup">
              <label for="registerPassword">ğŸ” Password</label>
              <input id="registerPassword" name="password" type="password" placeholder="Choose a strong password" required />
            </div>

            <div class="formGroup">
              <label for="registerConfirmPassword">ğŸ” Confirm Password</label>
              <input id="registerConfirmPassword" name="confirmPassword" type="password" placeholder="Confirm your password" required />
            </div>

            <button type="submit" class="authSubmitBtn">Create Account ğŸš€</button>

            <div class="authDivider">
              <span>or</span>
            </div>

            <p class="authToggle">
              Already have an account?
              <button type="button" class="authToggleBtn" onclick="switchToLogin()">Sign in</button>
            </p>
          </form>
        </div>
      </div>
    </div>

    <!-- Profile modal for user account management -->
    <div id="profileModal" class="modal hidden">
      <div class="modalContent profileModalContent">
        <div class="modalHeader">
          <h3 id="profileTitle">ğŸ“‹ Profile & Account</h3>
          <button type="button" class="closeBtn" id="closeProfile">âœ•</button>
        </div>
        <div id="profileContent" class="modalBody"></div>
      </div>
    </div>

    <!-- About Author Modal -->
    <div id="aboutModal" class="modal hidden">
      <div class="modalContent aboutModalContent">
        <div class="modalHeader">
          <h3 id="aboutTitle">ğŸ“ŒAbout Ahona Islam</h3>
          <button type="button" class="closeBtn" id="closeAbout">âœ•</button>
        </div>
        <div id="aboutContent" class="modalBody"></div>
      </div>
    </div>

    <!-- FAQ Modal -->
    <div id="faqModal" class="modal hidden">
      <div class="modalContent faqModalContent">
        <div class="modalHeader">
          <h3>â“ Frequently Asked Questions</h3>
          <button type="button" class="closeBtn" id="closeFaq">âœ•</button>
        </div>
        <div class="modalBody" id="faqContent"></div>
      </div>
    </div>

    <!-- Writing Tips Modal -->
    <div id="tipsModal" class="modal hidden">
      <div class="modalContent tipsModalContent">
        <div class="modalHeader">
          <h3>âœï¸ Writing Tips & Guides</h3>
          <button type="button" class="closeBtn" id="closeTips">âœ•</button>
        </div>
        <div class="modalBody" id="tipsContent"></div>
      </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal hidden">
      <div class="modalContent privacyModalContent">
        <div class="modalHeader">
          <h3>ğŸ”’ Privacy Policy</h3>
          <button type="button" class="closeBtn" id="closePrivacy">âœ•</button>
        </div>
        <div class="modalBody" id="privacyContent"></div>
      </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="termsModal" class="modal hidden">
      <div class="modalContent termsModalContent">
        <div class="modalHeader">
          <h3>ğŸ“œ Terms of Service</h3>
          <button type="button" class="closeBtn" id="closeTerms">âœ•</button>
        </div>
        <div class="modalBody" id="termsContent"></div>
      </div>
    </div>

    <!-- Popular Tags Modal -->
    <div id="tagsModal" class="modal hidden">
      <div class="modalContent tagsModalContent">
        <div class="modalHeader">
          <h3>ğŸ·ï¸ Popular Tags</h3>
          <button type="button" class="closeBtn" id="closeTags">âœ•</button>
        </div>
        <div class="modalBody" id="tagsContent"></div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footerContent">
      <div class="footerSection">
        <h3 class="footerBrand">ğŸ“š Ahona Islam</h3>
        <p class="footerDescription">A platform dedicated to sharing beautiful stories, poems, and literary works that inspire and connect readers worldwide.</p>
        <div class="footerSocials">
          <a href="#" aria-label="Twitter" class="socialLink" target="_blank" rel="noopener">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M22.46 5.924c-.793.352-1.646.59-2.542.698a4.48 4.48 0 0 0 1.965-2.475 8.94 8.94 0 0 1-2.828 1.082A4.48 4.48 0 0 0 16.11 4c-2.48 0-4.49 2.015-4.49 4.5 0 .353.04.697.116 1.025C7.728 9.37 4.1 7.6 1.67 4.905a4.48 4.48 0 0 0-.61 2.264c0 1.563.796 2.944 2.01 3.755a4.47 4.47 0 0 1-2.034-.563v.057c0 2.183 1.553 4.004 3.617 4.42a4.5 4.5 0 0 1-2.027.077c.572 1.785 2.23 3.084 4.196 3.12A8.98 8.98 0 0 1 2 19.54a12.67 12.67 0 0 0 6.88 2.017c8.26 0 12.785-6.84 12.785-12.775 0-.195-.004-.39-.013-.583A9.22 9.22 0 0 0 24 4.59a8.98 8.98 0 0 1-2.54.697z" fill="#1DA1F2"/></svg>
          </a>
          <a href="#" aria-label="Instagram" class="socialLink" target="_blank" rel="noopener">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="6" fill="#fff"/><path d="M12 7.2A4.8 4.8 0 1 0 12 16.8 4.8 4.8 0 0 0 12 7.2zm0 7.8A3 3 0 1 1 12 9a3 3 0 0 1 0 6zm5.2-7.92a1.12 1.12 0 1 1-2.24 0 1.12 1.12 0 0 1 2.24 0zM12 5.2c1.3 0 1.45.005 1.96.028.5.022.77.1.95.17.23.09.39.2.56.37.17.17.28.33.37.56.07.18.15.45.17.95.023.51.028.66.028 1.96s-.005 1.45-.028 1.96c-.022.5-.1.77-.17.95a1.36 1.36 0 0 1-.37.56c-.17.17-.33.28-.56.37-.18.07-.45.15-.95.17-.51.023-.66.028-1.96.028s-1.45-.005-1.96-.028c-.5-.022-.77-.1-.95-.17a1.36 1.36 0 0 1-.56-.37 1.36 1.36 0 0 1-.37-.56c-.07-.18-.15-.45-.17-.95C5.205 13.45 5.2 13.3 5.2 12s.005-1.45.028-1.96c.022-.5.1-.77.17-.95.09-.23.2-.39.37-.56.17-.17.33-.28.56-.37.18-.07.45-.15.95-.17C10.55 5.205 10.7 5.2 12 5.2zm0-1.2C10.68 4 10.52 4.005 10.01 4.028c-.52.023-.88.1-1.19.21a2.56 2.56 0 0 0-.93.6 2.56 2.56 0 0 0-.6.93c-.11.31-.187.67-.21 1.19C4.005 10.52 4 10.68 4 12c0 1.32.005 1.48.028 1.99.023.52.1.88.21 1.19.13.32.31.6.6.93.29.29.61.47.93.6.31.11.67.187 1.19.21.51.023.67.028 1.99.028s1.48-.005 1.99-.028c.52-.023.88-.1 1.19-.21.32-.13.6-.31.93-.6.29-.29.47-.61.6-.93.11-.31.187-.67.21-1.19.023-.51.028-.67.028-1.99s-.005-1.48-.028-1.99c-.023-.52-.1-.88-.21-1.19a2.56 2.56 0 0 0-.6-.93 2.56 2.56 0 0 0-.93-.6c-.31-.11-.67-.187-1.19-.21C13.48 4.005 13.32 4 12 4z" fill="#E1306C"/></svg>
          </a>
          <a href="#" aria-label="Email" class="socialLink" target="_blank" rel="noopener">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="6" fill="#fff"/><path d="M4 8.5A2.5 2.5 0 0 1 6.5 6h11A2.5 2.5 0 0 1 20 8.5v7A2.5 2.5 0 0 1 17.5 18h-11A2.5 2.5 0 0 1 4 15.5v-7zm2.5-.5a.5.5 0 0 0-.5.5v.217l6 3.75 6-3.75V8.5a.5.5 0 0 0-.5-.5h-11zm12 2.383-5.65 3.534a1 1 0 0 1-1.1 0L4.5 10.383V15.5a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5v-5.117z" fill="#1A73E8"/></svg>
          </a>
        </div>
      </div>
      <div class="footerSection">
        <h4>Quick Links</h4>
        <ul class="footerLinks">
          <li><a href="#" id="browseStoriesLink">Browse Stories</a></li>
          <li><a href="#" id="categoriesLink">Categories</a></li>
          <li><a href="#" id="popularTagsLink">Popular Tags</a></li>
          <li><a href="#" id="communityLink">Community</a></li>
        </ul>
      </div>
      <div class="footerSection">
        <h4>Resources</h4>
        <ul class="footerLinks">
          <li><a href="#" id="writingTipsLink">Writing Tips</a></li>
          <li><a href="#" id="faqLink">FAQ</a></li>
          <li><a href="#" id="privacyLink">Privacy Policy</a></li>
          <li><a href="#" id="termsLink">Terms of Service</a></li>
        </ul>
      </div>
      <div class="footerSection">
        <h4>About</h4>
        <button id="aboutAuthorBtn" class="footerAboutBtn">About Ahona Islam</button>
        <p class="footerMeta">Empowering writers and readers since 2024</p>
      </div>
    </div>
    <div class="footerBottom">
      <p>&copy; 2026 Ahona Islam. All stories and content are protected by copyright. Built with passion for storytelling.</p>
    </div>
  </footer>

  <script type="module" src="script-firebase.js"></script>
</body>
</html>
